{% extends "base_page.html" %}

{% block header %}
    <h1>
        {% include "partials/profile_link.html" with user=profile.user %}
    </h1>
    {% if user == profile.user %}
        <p class="text-center sm:text-left">
            <a href="{% url 'users:profile_edit' user %}">{% translate "edit" %}</a>
            ðŸž„ <a href="{% url 'logout' %}">{% translate "logout" %}</a>
        </p>
    {% endif %}
    <p>
        {% blocktranslate trimmed with age=profile.user.date_joined|timesince karma=profile.user.points %}
            Joined {{ age }} ago ðŸž„ Karma: {{ karma }}
        {% endblocktranslate %}
    </p>
{% endblock header %}

{% block content %}
    <div class="sm:max-w-none prose-sm sm:prose">
        <p>
            {{ profile.bio|linebreaks }}
        </p>
        <menu class="flex justify-around"
              hx-target="#user-content"
              hx-select="#main-content"
              hx-push-url="true">
            <li>
                <a href="{% url 'users:posts' profile.user %}"
                   id="posts"
                   class="no-anchor"
                   _="on click add .font-bold to me then remove .font-bold from #comments">
                    {% blocktranslate trimmed with n=profile.user.posts.count %}
                        Posts ({{ n }})
                    {% endblocktranslate %}
                </a>
            </li>
            <li>
                <a href="{% url 'users:comments' profile.user %}"
                   id="comments"
                   class="no-anchor"
                   hx-push-url="true"
                   _="on click add .font-bold to me then remove .font-bold from #posts">
                    {% blocktranslate trimmed with n=profile.user.comments.count %}
                        Comments ({{ n }})
                    {% endblocktranslate %}
                </a>
            </li>
        </menu>
    </div>
    <section id="user-content">
    </section>
{% endblock content %}
