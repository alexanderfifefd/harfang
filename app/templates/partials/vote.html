{% load app_extras %}

{% partialdef form %}
    <span>
        <button id="{{ item|element_id }}-upvote-btn"
                class="p-2 m-0 w-8 bg-transparent hover:bg-slate-100 active:bg-slate-200"
                aria-label="Upvote"
                type="button"
                hx-post="{{ item.get_vote_url }}"
                hx-swap="outerHTML"
                hx-select="#{{ item|element_id }}-upvote-btn"
                hx-select-oob="#{{ item|element_id }}-points"
                {% if item.user == user or not user.is_authenticated %}
                    disabled
                {% endif %}>
            <svg class="{% if item|voted_on_by:user %}
                            fill-green-600 stroke-green-600 dark:fill-gruv-green-50 dark:stroke-gruv-green-50
                        {% elif item.user == user or not user.is_authenticated %}
                            fill-slate-300 stroke-slate-300
                        {% else %}
                            fill-slate-500 stroke-slate-500
                        {% endif %}"
                 viewBox="0 0 38 34">
                <polygon stroke-linejoin="round" stroke-width="4" points="19,4 34,30 4,30" />
            </svg>
        </button>
    </span>
{% endpartialdef %}

{% partial form %}
{% points_count item %}
